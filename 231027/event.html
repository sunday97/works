<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>e~~~vent</title>
  </head>
  <style>
    p {
      background-color: dodgerblue;
      height: 200px;
      font-size: 30px;
      font-weight: 600;
    }
  </style>
  <body>
    <p id="pTag">이벤트 리스너 테스트</p>
    <!-- action= : 어디로 보낼 건가? -->
    <form action="...">
      <input id="inputTag" type="text" class="formEl" /><br />
      <textarea id="textareaTag" cols="25" rows="5" class="formEl"></textarea
      ><br />
      <br />
      <select class="chageTest">
        <option>현대</option>
        <option selected>기아</option>
        <option>KG모빌리티</option>
      </select>
      <br />
      <input
        type="radio"
        value="male"
        id="male"
        name="gender"
        class="chageTest"
      />
      <label for="male">남자</label>
      <input
        type="radio"
        value="female"
        id="female"
        name="gender"
        class="chageTest"
      />
      <label for="female">여자</label>
      <br />
      <input type="checkbox" id="apple" class="chageTest" />
      <label for="apple">사과</label>
      <input type="checkbox" id="banana" class="chageTest" checked />
      <label for="banana">바나나</label>
      <input type="checkbox" id="grapefruit" class="chageTest" />
      <label for="grapefruit">자몽</label>
      <br />
      <input type="submit" value="제출" id="submitBtn" />
      <input type="reset" value="초기화" id="resetBtn" />
    </form>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  </body>
  <script>
    // **이벤트 리스너(event listener)**
    // 이벤트 리스너란 이벤트가 발생했을 때 그 처리르 담당하는 함수를 가리키며, 이벤트 핸들러(event handler)라고도 한다.
    // 지정된 타입의 이벤트가 특정 요소에서 발생하면, 그 요소에 등록된 이벤트 리스너를 실행시킨다.

    // **이벤트 리스너 등록 방법**
    // 1.HTML 태그에 속성으로 등록
    // 2.javascrit 에서 프로퍼티로 등록✨

    // addEventListener() 함수
    // 대상객체.addEventListener(이벤트명, 실행할이벤트리스너, 이벤트전파방식(flase(기본)))

    // *마우스 이벤트
    const pTag = document.getElementById("pTag");

    // click
    // pTag.addEventListener("click", function () {
    //   alert("click 이벤트 발생");
    // });

    // dblclick
    // pTag.addEventListener("dblclick", function () {
    //   alert("dblclick 이벤트 발생");
    // });

    // click과 dblclick은 동시에 사용할 수 없당. >-<

    //mousedown - 마우스를 누르고 있을 때
    // pTag.addEventListener("mousedown", function () {
    //   alert("mousedown 이벤트 발생");
    // });

    // mouseup - 눌렀던 마우스 버튼을 뗄 때
    // pTag.addEventListener("mouseup", function () {
    //   alert("mouseup 이벤트 발생");
    // });

    // mousemove - 마우스를 움직였을 때
    // pTag.addEventListener("mousemove", function () {
    //   alert("mousemove 이벤트 발생");
    // });

    // mouseover - 마우스를 해당 요소 바깥에서 안으로 옮겼을 때
    // pTag.addEventListener("mouseover", function () {
    //   alert("mouseover 이벤트 발생");
    // });

    // mouseout - 마우스를 해당 요소 안에서 바깥으로 옮겼을 때
    // pTag.addEventListener("mouseout", function () {
    //   alert("mouseout 이벤트 발생");
    // });

    // contextmenu -마우스 오른쪽버튼을 누렀을 때
    // pTag.addEventListener("contextmenu", function () {
    //   alert("contextmenu 이벤트 발생");
    // });

    // preventDefault - 작동을 중지합니다.
    // pTag.addEventListener("preventDefault", function (enent) {
    //   event.preventDefault();
    //   alert("마우스 오른쪽 버튼이 작동하지 않는 사이트입니다.");
    // });

    //  *UI 이벤트
    //  load : doc 그려지기 전에
    // window.addEventListener("load", function () {
    //   alert("load 이벤트 발생");
    // });

    // resize : page size
    // window.addEventListener("resize", function () {
    //   alert("resize 이벤트 발생");
    // });

    // scroll
    // window.addEventListener("scroll", function () {
    //   alert("scroll 이벤트 발생");
    // });

    // *keyboard 이벤트
    const inputTag = document.getElementById("inputTag");

    // keydown - 사용자가 키를 처음 눌렀을 때
    // inputTag.addEventListener("keydown", function (event) {
    // alert("keydown 이벤트 발생");
    // console.log(`key : ${event.key}, code : ${event.code}`);
    // console.log(event);
    // });

    // keyup - 사용자가 키를 뗼 때
    // inputTag.addEventListener("keyup", function (event) {
    // console.log(`key : ${event.key}, code : ${event.code}`);
    // });

    // keyup과 replace를 활용한 input창 안에서 한글 막기
    inputTag.addEventListener("keyup", function (event) {
      inputTag.value = inputTag.value.replace(/[ㄱ-ㅎ ㅏ-ㅣ 가-힣]/g, "");
      console.log(`key : ${event.key}, code : ${event.code}`);
    });

    // keypress - 사용자가 눌렀던 키의 문자가 입력되었을 때
    // inputTag.addEventListener("keypress", function (event) {
    // console.log(`key : ${event.key}, code : ${event.code}`);
    // });

    // 순서 : keydown - keypress - keyup

    //포커스 이벤트
    // focus - 요소가 포커스를 얻었을 때
    // inputTag.addEventListener("focus", function () {
    //   alert("focus 이벤트 발생");
    // });  // 이렇게 사용 안함
    inputTag.focus(); // 보통 이렇게 사용함

    // blur - 요소가 포커스를 잃었을 때
    // inputTag.addEventListener("blur", function () {
    //   alert("blur 이벤트 발생");
    // });

    // 폼(form) 이벤트
    // input - input, textarea 태그의 값이 변경되었을 때
    // 클래스로 요소 선택하기
    // const classEl = document.getElementsByClassName("formEl");  // 아마 set 객체로 나와서 forEach 사용 불가
    // const classEl = document.querySelectorAll(".formEl"); // 그래서 class 전체에 event를 걸어줄 경우 querySelectorAll을 사용하자.
    // console.log(classEl);
    // console.log(typeof classEl); // 객체로 나오네?

    // classEl.forEach((el) => {
    //   el.addEventListener("input", function () {
    //     alert("input 이벤트 발생");
    //   });
    // });

    // chage - 선택상자, 체크방스, 라디오 버튼의 상태가 변경되었을 때
    const chageEl = document.querySelectorAll(".chageTest");
    chageEl.forEach(function (el) {
      el.addEventListener("change", function () {
        console.log(this);
        // alert("change 이벤트 발생");
      });
    });

    // submit, reset
    // 아래의 경우처럼 사용하는 경우는 거의 없고 보통은 input type button으로 만들고 클릭시 이벤트 만들고 마지막에
    // temp.submit() , temp.reset() 같은 형식으로 사용한다.
    // input type submit 이벤트의 경우 form 태그 안에서는 엔터로도 작동하기에 종종 사용함.

    const formEl = document.forms[0]; // forms 해당 form 값을 전부 가져올 수 있당.  // HTMLCollecton이라는 object로 나옴. 그래서 [0] 붙여줌
    console.log(formEl);

    // 이벤트를 달아줄 대상은(변경되는 대상은) form 그 자체이지 reset버튼이나 submit버튼이 아니다.
    const resetEl = document.getElementById("resetBtn");
    const submitEl = document.getElementById("submitBtn");

    formEl.addEventListener("submit", function (e) {
      e.preventDefault();
      alert("submit 이벤트 발생");
    });

    formEl.addEventListener("reset", function () {
      alert("reset 이벤트 발생");
    });

    // cut, copy, paste - 일 때 발생하는 이벤트
    const textareaEl = document.getElementById("textareaTag");
    textareaEl.addEventListener("cut", function () {
      alert("cut 이벤트 발생");
    });
    textareaEl.addEventListener("copy", function () {
      alert("copy 이벤트 발생");
    });
    textareaEl.addEventListener("paste", function () {
      alert("paste 이벤트 발생");
    });
  </script>
</html>
